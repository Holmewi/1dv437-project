using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Graphics;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Hypothermia.Collection
{
    public class MapCollection
    {
        public static MapType MAP_1 = new MapType(new int[,]{
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,1,2,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {4,5,0,0,0,1,2,2,4,5,0,1,5,0,0,1,5,0,0,0,0,1,2,4,5,0,0,0,0,0,1},
                                            {5,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,1},
                                            {5,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,1},
                                            {5,0,0,0,0,0,1,5,0,0,0,0,0,0,0,1,4,2,5,0,0,1,5,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,1,3,4,2,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,1},
                                            {5,0,0,0,0,0,0,0,1,3,2,4,2,2,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0},   
                                            {5,1,3,4,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,2,2,3,2,5},
                                            });

        public static MapType MAP_2 = new MapType(new int[,]{
                                            {2,3,4,4,2,4,3,4,3,2,3,4,4,3,2,3,4,3,2,2,3,4,2,3,2,4,3,2,4,4,2,3,4,2,4,3,2,2,3,3,2,4,4,2,3,2,4},
                                            {2,3,4,4,2,4,3,4,3,2,3,4,4,3,2,3,4,3,2,2,3,4,2,3,2,4,3,2,4,4,2,3,4,2,4,3,2,2,3,3,2,4,4,2,3,2,4},
                                            {2,3,4,4,2,4,3,4,3,2,3,4,4,3,2,3,4,3,2,2,3,4,2,3,2,4,3,2,4,4,2,3,4,2,4,3,2,2,3,3,2,4,4,2,3,2,4},
                                            {2,3,4,4,2,4,3,4,3,2,3,4,4,3,2,3,4,3,2,2,3,4,2,3,2,4,3,2,4,4,2,3,4,2,4,3,2,2,3,3,2,4,4,2,3,2,4},
                                            {2,3,4,4,2,4,3,4,3,2,3,4,4,3,2,3,4,3,2,2,3,4,2,3,2,4,3,2,4,4,2,3,4,2,4,3,2,2,3,3,2,4,4,2,3,2,4},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                                            {5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3},
                                            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,1},
                                            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,1},   
                                            {4,3,3,4,3,3,2,3,2,4,3,5,0,0,1,4,5,0,1,2,5,0,0,0,0,0,1,3,5,0,0,0,1,3,5,0,0,1,4,5,0,0,0,0,0,0,1},
                                            {4,3,3,4,3,3,2,3,2,4,3,5,0,0,1,4,5,0,1,2,5,0,0,0,0,0,1,3,5,0,0,0,1,3,5,0,0,1,4,5,0,0,0,0,0,0,1},
                                            {4,3,3,4,3,3,2,3,2,4,3,5,0,0,1,4,5,0,1,2,5,0,0,0,0,0,1,3,5,0,0,0,1,3,5,0,0,1,4,5,0,0,0,0,0,0,1},
                                            {4,3,3,4,3,3,2,3,2,4,3,5,0,0,1,4,5,0,1,2,5,0,0,0,0,0,1,3,5,0,0,0,1,3,5,0,0,1,4,5,0,0,0,0,0,0,1},
                                            {4,3,3,4,3,3,2,3,2,4,3,5,0,0,1,4,5,0,1,2,5,0,0,0,0,0,1,3,5,0,0,0,1,3,5,0,0,1,4,5,0,0,0,0,0,0,1},
                                            });

        public static MapType MAP_3 = new MapType(new int[,]{
                                            {4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2},
                                            {2,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3},
                                            {3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                                            {2,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                                            {4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,1,2,2},
                                            {3,5,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,1,5,0,1,4},
                                            {2,5,0,0,0,0,0,0,1,2,5,0,0,0,0,0,0,0,0,1,5,0,0,0,1,2},
                                            {3,5,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3},
                                            {4,5,0,0,0,0,0,1,5,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,1,4},
                                            {2,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,2,5,0,0,0,0,0,1,3},
                                            {4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,1,2},
                                            {3,5,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,1,2,5,0,0,0,0,1,3},
                                            {2,5,0,0,0,0,0,0,0,1,5,0,0,0,1,5,0,0,0,0,0,0,0,0,1,2},
                                            {3,5,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4},
                                            {2,5,0,0,0,0,0,1,5,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,1,4},
                                            {3,5,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,1,3},
                                            {0,0,0,0,0,0,0,0,0,0,0,0,1,3,4,5,0,1,2,2,5,0,0,0,1,2},
                                            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,4,4},
                                            {2,3,5,0,0,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,1,3},
                                            {4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,0,0,0,0,0,1,3},
                                            {3,5,0,0,0,0,0,0,1,2,3,5,0,0,1,5,0,0,0,0,0,0,0,0,1,2},   
                                            {3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4},
                                            });
    }

    public class MapType
    {
        private int[,] map;
        private int mapWidth = 0;
        private int mapHeight = 0;

        public MapType(int[,] map)
        {
            this.map = map;
        }

        public List<View.Tile> GetTileList(Texture2D tileTextures, int size)
        {
            List<View.Tile> tiles = new List<View.Tile>();
            for (int x = 0; x < this.map.GetLength(1); x++)
            {
                for (int y = 0; y < this.map.GetLength(0); y++)
                {
                    int number = this.map[y, x];

                    if (number > 0)
                        tiles.Add(new View.Tile(tileTextures, new Rectangle(x * size, y * size, size, size), this.Sprite(number), 20, 20));

                    this.mapWidth = (x + 1) * size;
                    this.mapHeight = (y + 1) * size;
                }
            }
            return tiles;
        }

        public Rectangle Sprite(int number)
        {
            switch (number)
            {
                case 1:
                    return new Rectangle(0, 256, 64, 64);
                case 2:
                    return new Rectangle(64, 256, 64, 64);
                case 3:
                    return new Rectangle(128, 256, 64, 64);
                case 4:
                    return new Rectangle(192, 256, 64, 64);
                case 5:
                    return new Rectangle(256, 256, 64, 64);
                default:
                    throw new ArgumentOutOfRangeException("The texture didn't exist in the sprite sheet");
            }
        }

        public int MapWidth { get { return this.mapWidth; } }
        public int MapHeight { get { return this.mapHeight; } }

        public int[,] MapBundle { get { return this.map; } }
    }
}
